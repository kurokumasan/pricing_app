<EstimationScreen>
	name: 'Estimation'
	GridLayout:
		cols: 1
		size_hint: .8, .9
		pos_hint: {'center_x':.5, 'center_y':.5}
		GridLayout:
			cols: 1
			size: root.width, root.height
			size_hint: .8, .9
			pos_hint: {'center_x':.5, 'center_y':.5}
	
			GridLayout:
				cols:2
				Label:
					text: '總成本'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id: cost
					multilines: False
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '主辦方人數'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id: host
					multilines: False
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '主辦方「不參與」人數'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id: host_no
					multilines: False
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '協辦方預計總人數'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id :guests
					multilines: False
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '預計總歌數'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id: songs
					multilines: False
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '歌曲預計平均編制人數'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id: group
					multilines: False
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '協辦方預計平均接歌數'
					font_name: 'DroidSansFallbackFull'
				TextInput:
					id: guest_stage
					input_type: 'number'
					input_filter: 'int'
					multilines: False
			
			GridLayout:
				cols:1
				Label:
					text: '計算結果'
					font_name: 'DroidSansFallbackFull'
					size_hint: 1, .3
				ScrollView:
					size: self.size
					GridLayout:
						size_hint_y: None
						height: self.minimum_height
						row_default_height: '200dp'
						row_force_default: True
						Label:
							id: result
							text: ''
							font_name: 'DroidSansFallbackFull'
							text_size: self.width, None
					
		GridLayout:
			cols: 2
			size_hint: .6, .1
			size: root.width, root.height
			pos_hint: {'center_x':0.5}
			Button:
				text: '開始計算'
				font_name: 'DroidSansFallbackFull'
				on_release: root.ids.result.text = root.calculation(root.ids.cost.text, root.ids.host.text, root.ids.host_no.text, root.ids.guests.text, root.ids.songs.text, root.ids.group.text, root.ids.guest_stage.text)
		
			Button:
				text: '切換為精算模式'
				font_name: 'DroidSansFallbackFull'
				on_release: root.switch_settlement()
				#on_release: root.manager.current='Settlement'

<SettlementScreen>
	name: 'Settlement'
	GridLayout:
		cols: 1
		size: root.width, root.height
		size_hint: .8, .9
		pos_hint: {'center_x':.5, 'center_y':.5}

		GridLayout:
			cols:2
			Label:
				text: '總成本'
				font_name: 'DroidSansFallbackFull'
			TextInput:
				multilines: False
	
			Label:
				text: '主辦方總人數'
				font_name: 'DroidSansFallbackFull'
			TextInput:
				multilines: False
	
			Label:
				text: '主辦方「不參與」總人數'
				font_name: 'DroidSansFallbackFull'
			TextInput:
				multilines: False
	
			Label:
				text: '協辦方總人數'
				font_name: 'DroidSansFallbackFull'
			TextInput:
				multilines: False
	
			Label:
				text: '全員總上台次數'
				font_name: 'DroidSansFallbackFull'
			TextInput:
				multilines: False
	
			Label:
				text: '協辦總上台次數'
				font_name: 'DroidSansFallbackFull'
			TextInput:
				multilines: False

		GridLayout:
			cols:1
			Label:
				text: '計算結果'
				font_name: 'DroidSansFallbackFull'
				size_hint: 1, .3
			Label:
				text: ''
				font_name: 'DroidSansFallbackFull'
				

	GridLayout:
		cols: 2
		size_hint: .6, .1
		size: root.width, root.height
		pos_hint: {'center_x':0.5}
		Button:
			text: '開始計算'
			font_name: 'DroidSansFallbackFull'
	
		Button:
			text: '切換為估算模式'
			font_name: 'DroidSansFallbackFull'
			on_release: root.switch_estimation()
