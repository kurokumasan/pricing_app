<EstimationScreen>
	name: 'Estimation'
	canvas.before:
		Color:
			rgba: 60/255, 192/255, 1, 1
		Rectangle:
			pos: self.pos
			size: self.size

	GridLayout:
		cols: 1
		size_hint: .9, .9
		pos_hint: {'center_x':.5, 'center_y':.5}
		canvas.before:
			Color:
				rgba: 0, 0, 0, .5
			Rectangle:
				pos: self.pos
				size: self.size
		GridLayout:
			cols: 1
			size: root.width, root.height
			size_hint: .8, .9
			pos_hint: {'center_x':.5, 'center_y':.5}
	
			GridLayout:
				cols:2
				Label:
					text: '總成本'
					font_name: 'NotoSansCJK'
				TextInput:
					id: cost
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '主辦方人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: host
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '主辦方「不參與」人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: host_no
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '協辦方預計總人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id :guests
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '預計總歌數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: songs
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '歌曲預計平均編制人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: group
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '協辦方預計平均接歌數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: guest_stage
					input_type: 'number'
					input_filter: 'int'
					multilines: False
					hint_text: '0'
			
			GridLayout:
				cols:1
				Label:
					text: '計算結果'
					font_name: 'NotoSansCJK'
					size_hint: 1, .2
				GridLayout:
					cols: 1
					size_hint: .8, 1
					ScrollView:
						size: self.size
						effect_cls: "ScrollEffect"
						Label:
							id: result
							text: ''
							font_name: 'NotoSansCJK'
							#text_size: self.width, None
							size_hint_x: None
							size_hint_y: None
							height: self.texture_size[1]
							width: self.texture_size[0]
				Button:
					size_hint: 1, .2
					text: '開始計算'
					font_name: 'NotoSansCJK'
					on_release: root.ids.result.text = root.calculation(root.ids.cost.text, root.ids.host.text, root.ids.host_no.text, root.ids.guests.text, root.ids.songs.text, root.ids.group.text, root.ids.guest_stage.text)
					
		GridLayout:
			cols: 2
			pos_hint: {'center_x':0.5}
			size_hint: .3, .075
			Button:
				text: '使用說明'
				font_name: 'NotoSansCJK'
				on_release: root.switch_description()
		
			Button:
				text: '切換為精算模式'
				font_name: 'NotoSansCJK'
				on_release: root.switch_settlement()

<SettlementScreen>
	name: 'Settlement'
	canvas.before:
		Color:
			rgba: 60/255, 192/255, 1, 1
		Rectangle:
			pos: self.pos
			size: self.size

	GridLayout:
		cols: 1
		size_hint: .9, .9
		pos_hint: {'center_x':.5, 'center_y':.5}
		canvas.before:
			Color:
				rgba: 0, 0, 0, .5
			Rectangle:
				pos: self.pos
				size: self.size
		GridLayout:
			cols: 1
			size: root.width, root.height
			size_hint: .8, .9
			pos_hint: {'center_x':.5, 'center_y':.5}
	
			GridLayout:
				cols:2
				Label:
					text: '總成本'
					font_name: 'NotoSansCJK'
				TextInput:
					id: cost
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '主辦方總人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: host
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '主辦方「不參與」總人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: host_no
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '協辦方總人數'
					font_name: 'NotoSansCJK'
				TextInput:
					id :guests
					multilines: False
					hint_text: '0'
					input_type: 'number'
					input_filter: 'int'
		
				Label:
					text: '全員總上台次數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: all_stages
					input_type: 'number'
					input_filter: 'int'
					multilines: False
					hint_text: '0'
		
				Label:
					text: '協辦總上台次數'
					font_name: 'NotoSansCJK'
				TextInput:
					id: guest_stages
					input_type: 'number'
					input_filter: 'int'
					multilines: False
					hint_text: '0'

			GridLayout:
				cols:1
				Label:
					text: '計算結果'
					font_name: 'NotoSansCJK'
					size_hint: 1, .2
				GridLayout:
					cols: 1
					size_hint: .8, 1
					ScrollView:
						size: self.size
						effect_cls: "ScrollEffect"
						Label:
							id: result
							text: ''
							font_name: 'NotoSansCJK'
							text_size: self.width, None
							size_hint_y: None
							height: self.texture_size[1]
				Button:
					text: '開始計算'
					font_name: 'NotoSansCJK'
					size_hint: 1, .2
					on_release: root.ids.result.text = root.calculation(root.ids.cost.text, root.ids.host.text, root.ids.host_no.text, root.ids.guests.text, root.ids.all_stages.text, root.ids.guest_stages.text)
					
		GridLayout:
			cols: 2
			pos_hint: {'center_x':0.5}
			size_hint: .3, .075
			Button:
				text: '使用說明'
				font_name: 'NotoSansCJK'
				on_release: root.switch_description('Settlement')
		
			Button:
				text: '切換為估算模式'
				font_name: 'NotoSansCJK'
				on_release: root.switch_estimation()

<DescriptionScreen>
	name: 'Description'
	canvas.before:
		Color:
			rgba: 60/255, 192/255, 1, 1
		Rectangle:
			pos: self.pos
			size: self.size

	GridLayout:
		cols: 1
		size_hint: .9, .9
		pos_hint: {'center_x':.5, 'center_y':.5}
		Image:
			source: 'image/description_pic.png'
			pos: self.pos
			size_hinti_y: None
			#height: self.texture_size[1]
			size: self.texture_size
			allow_stretch: True

		GridLayout:
			cols: 2
			size_hint: .9, .1
			Button:
				text: '使用估算模式'
				font_name: 'NotoSansCJK'
				on_release: root.switch_estimation()
			Button:
				text: '使用精算模式'
				font_name: 'NotoSansCJK'
				on_release: root.switch_settlement()
